<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button [defaultHref]="'/home'"></ion-back-button>
    </ion-buttons>
    <ion-title>cell-create</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <!-- <ion-spinner color="primary" name="crescent" *ngIf="isLoading"></ion-spinner> -->

  <form [formGroup]="form" *ngIf="!isLoading" (submit)="onSaveCell()">
    <ion-grid>
      <ion-row>
        <ion-col>
          <ion-item>
            <ion-label position="floating">Name</ion-label>
            <ion-input type="text" formControlName="name"></ion-input>
          </ion-item>
          <p *ngIf="!form.get('name').valid && form.get('name').touched">
            Error
          </p>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <ion-item>
            <ion-label position="floating">Capacity</ion-label>
            <ion-input type="number" formControlName="capacity"></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <ion-item>
            <ion-label position="floating">Current</ion-label>
            <ion-input type="number" formControlName="current"></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <ion-button type="button" color="primary" (click)="filePicker.click()"
            >Pick Image</ion-button
          >
          <input type="file" #filePicker (change)="onImagePicked($event)" />
        </ion-col>
        <ion-col>
          <ion-button type="button" color="primary" (click)="filePicker1.click()"
            >Pick Back Image</ion-button
          >
          <input type="file" #filePicker1 (change)="onBackImagePicked($event)" />
        </ion-col>
      </ion-row>
      <!-- <ion-row>
        <ion-col>
          <ion-button type="button" color="primary" (click)="pdfPicker.click()"
            >Pick Datasheet</ion-button
          >
          <input type="file" #pdfPicker (change)="onPdfPicked($event)" />
        </ion-col>
      </ion-row> -->
      <ion-row
        *ngIf="imagePreview !== '' && imagePreview && form.get('image').valid"
      >
        <ion-col>
          <div class="image-preview">
            <img [src]="imagePreview" [alt]="form.value.name" />
          </div>
        </ion-col>
      </ion-row>
      <ion-row
      *ngIf="backPreview !== '' && backPreview && form.get('backImage').valid"
    >
      <ion-col>
        <div class="image-preview">
          <img [src]="backPreview" [alt]="form.value.name" />
        </div>
      </ion-col>
    </ion-row>

      <!-- <ion-row
        *ngIf="pdfPreview !== '' && pdfPreview && form.get('pdf').valid"
      >
        <ion-col>
          <div class="pdf-preview">
              <pdf-viewer [src]="pdfPreview" 
              [render-text]="true"
              style="display: block;"
        ></pdf-viewer>
          </div>
        </ion-col>
      </ion-row> -->



      <ion-row>
        <ion-col size-sm="6" offset-sm="3">
          <ion-button type="submit" color="primary" expand="block"
            >Save</ion-button
          >
        </ion-col>
      </ion-row>
    </ion-grid>
  </form>
  {{name}}
</ion-content>
